#!/usr/bin/node

var program = require('commander')
  , spawn = require('child_process').spawn
;

program
  .version('0.0.1' )
  .usage('[options] <path_to_file>')
  .parse(process.argv)
;

if( !program.args.length ){
  console.error('path to file required');
  process.exit(1);
}

// while program.args.length??

var run = spawn('node', [ program.args.shift() ])

//run.stdout.;
run.stdout
  .on( 'data', console.log.bind(console) )
  .setEncoding('utf-8')
;
run.stderr
  .on( 'data', console.error.bind(console) )
  .setEncoding('utf-8');
;
