
##
# test "abcs" are included at once with this file
if test -z "$@"
then # source all files at once
  source <( find test/bash -name "abc-*" -exec cat {} + )
else # source each file indepently
# TODO
# - iterating over an array of filenames is a "bash-bad-practice", use find
# - research a command to source files indepently without looping over them
# - It seems not posible to source indepently without looping
#   see http://stackoverflow.com/q/1964671/1894803
#   and maybe use `for file in *.sh; do source "$file"; done`
  files=("$( find test/bash -name 'abc-*' -exec echo {} \; )")

  test "${#files[@]}" -ne 0
  tested "at least 1 abc test util was found"

  # pass sourced files '$@' to request '--test' when asked for
  for file in ${files[@]}; do
    source "$file" "$@"
    tested "command 'source $file $@' ends with code 0"
  done
fi
test "$1" == "--test" && {
} || true
##
# vim modeline
# /* vim: set filetype=sh shiftwidth=2: */

