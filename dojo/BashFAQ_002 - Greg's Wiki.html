<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<!-- saved from url=(0038)http://mywiki.wooledge.org/BashFAQ/002 -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<meta name="robots" content="index,nofollow">

<title>BashFAQ/002 - Greg's Wiki</title>
<script type="text/javascript" src="./BashFAQ_002 - Greg&#39;s Wiki_files/common.js"></script>

<script type="text/javascript">
<!--
var search_hint = "Busca";
//-->
</script>

<script type="text/javascript">
<!-- // GUI edit link and i18n
var gui_editor_link_href = "/BashFAQ/002?action=edit&editor=gui";
var gui_editor_link_text = "Edición (GUI)";
//-->
</script>

<link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="./BashFAQ_002 - Greg&#39;s Wiki_files/common.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="screen" href="./BashFAQ_002 - Greg&#39;s Wiki_files/screen.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="print" href="./BashFAQ_002 - Greg&#39;s Wiki_files/print.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="projection" href="./BashFAQ_002 - Greg&#39;s Wiki_files/projection.css">

<!-- css only for MS IE6/IE7 browsers -->
<!--[if lt IE 8]>
   <link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="/moin_static198/modernized/css/msie.css">
<![endif]-->


<link rel="alternate" title="Greg&#39;s Wiki: BashFAQ/002" href="http://mywiki.wooledge.org/BashFAQ/002?diffs=1&amp;show_att=1&amp;action=rss_rc&amp;unique=0&amp;page=BashFAQ%2F002&amp;ddiffs=1" type="application/rss+xml">
<link rel="alternate" type="application/wiki" title="Editar" href="http://mywiki.wooledge.org/BashFAQ/002?action=edit">

<link rel="Start" href="http://mywiki.wooledge.org/EnglishFrontPage">
<link rel="Alternate" title="Formato Wiki" href="http://mywiki.wooledge.org/BashFAQ/002?action=raw">
<link rel="Alternate" media="print" title="Vista de impresión" href="http://mywiki.wooledge.org/BashFAQ/002?action=print">
<link rel="Up" href="http://mywiki.wooledge.org/BashFAQ">
<link rel="Search" href="http://mywiki.wooledge.org/FindPage">
<link rel="Index" href="http://mywiki.wooledge.org/%C3%8DndicePorT%C3%ADtulos">
<link rel="Glossary" href="http://mywiki.wooledge.org/%C3%8DndicePorPalabras">
<link rel="Help" href="http://mywiki.wooledge.org/HelpOnFormatting">
<style type="text/css">
:root #header + #content > #left > #rlblock_left,
:root #content > #center > .dose > .dosesingle,
:root #content > #right > .dose > .dosesingle
{ display: none !important; }</style></head>

<body lang="gl" dir="ltr">

<div id="header">

<form id="searchform" method="get" action="http://mywiki.wooledge.org/BashFAQ/002">
<div>
<input type="hidden" name="action" value="fullsearch">
<input type="hidden" name="context" value="180">
<label for="searchinput" style="display: none;">Buscar:</label>
<input id="searchinput" type="text" name="value" value="" size="20" onfocus="searchFocus(this)" onblur="searchBlur(this)" onkeyup="searchChange(this)" onchange="searchChange(this)" alt="Search" class="disabled">
<input id="titlesearch" name="titlesearch" type="submit" value="Títulos" alt="Search Titles" disabled="">
<input id="fullsearch" name="fullsearch" type="submit" value="Texto" alt="Search Full Text" disabled="">
</div>
</form>
<script type="text/javascript">
<!--// Initialize search form
var f = document.getElementById('searchform');
f.getElementsByTagName('label')[0].style.display = 'none';
var e = document.getElementById('searchinput');
searchChange(e);
searchBlur(e);
//-->
</script>

<div id="logo"><a href="http://mywiki.wooledge.org/EnglishFrontPage"><img src="./BashFAQ_002 - Greg&#39;s Wiki_files/moinmoin.png" alt="MoinMoin Logo"></a></div>
<div id="username"><a href="http://mywiki.wooledge.org/BashFAQ/002?action=login" id="login" rel="nofollow">Ingresar</a></div>
<h1 id="locationline">

<span id="pagelocation"><span class="pagepath"><a href="http://mywiki.wooledge.org/BashFAQ">BashFAQ</a></span><span class="sep">/</span><a href="http://mywiki.wooledge.org/BashFAQ/002">002</a></span>
</h1>


<ul id="navibar">
<li class="wikilink"><a href="http://mywiki.wooledge.org/BashGuide">BashGuide</a></li><li class="wikilink"><a href="http://mywiki.wooledge.org/BashFAQ">BashFAQ</a></li><li class="wikilink"><a href="http://mywiki.wooledge.org/RecentChanges">RecentChanges</a></li><li class="wikilink"><a href="http://mywiki.wooledge.org/FindPage">FindPage</a></li><li class="wikilink"><a href="http://mywiki.wooledge.org/HelpContents">HelpContents</a></li><li class="current"><a href="http://mywiki.wooledge.org/BashFAQ/002">BashFAQ/002</a></li>
</ul>

<div id="pageline"><hr style="display:none;"></div>

<ul class="editbar"><li><a href="http://mywiki.wooledge.org/BashFAQ/002?action=edit&amp;editor=text" name="texteditlink" rel="nofollow">Edición (Texto)</a></li><li><a href="http://mywiki.wooledge.org/BashFAQ/002?action=edit&amp;editor=gui">Edición (GUI)</a></li><li class="toggleCommentsButton" style="display:none;"><a href="http://mywiki.wooledge.org/BashFAQ/002#" class="nbcomment" onclick="toggleComments();return false;">Comments</a></li><li><a class="nbinfo" href="http://mywiki.wooledge.org/BashFAQ/002?action=info" rel="nofollow">Información</a></li><li><a class="nbattachments" href="http://mywiki.wooledge.org/BashFAQ/002?action=AttachFile" rel="nofollow">Anexos</a></li><li>
<form class="actionsmenu" method="GET" action="http://mywiki.wooledge.org/BashFAQ/002">
<div>
    
    <select name="action" onchange="if ((this.selectedIndex != 0) &amp;&amp;
                      (this.options[this.selectedIndex].disabled == false)) {
                this.form.submit();
            }
            this.selectedIndex = 0;">
        <option value="show">Máis Accións</option><option value="raw">Texto sen formato</option>
<option value="print">Vista de impresión</option>
<option value="RenderAsDocbook">Mostrar en Docbook</option>
<option value="refresh">Eliminar caché</option>
<option value="show" disabled="" class="disabled">------------------------</option>
<option value="SpellCheck">Correxir a ortografía</option>
<option value="LikePages">Páxinas semellantes</option>
<option value="LocalSiteMap">Mapa do sitio</option>
<option value="show" disabled="" class="disabled">------------------------</option>
<option value="RenamePage" disabled="" class="disabled">Renomear páxina</option>
<option value="DeletePage" disabled="" class="disabled">Eliminar páxina</option>
<option value="show" disabled="" class="disabled">------------------------</option>
<option value="show" disabled="" class="disabled">Subscribir Usuario</option>
<option value="show" disabled="" class="disabled">------------------------</option>
<option value="show" disabled="" class="disabled">Eliminar Spam</option>
<option value="show" disabled="" class="disabled">Revert to this revision</option>
<option value="PackagePages">Empaquetar Páxinas</option>
<option value="SyncPages">Sync Pages</option>
<option value="show" disabled="" class="disabled">------------------------</option>
<option value="Load">Load</option>
<option value="Save">Gardar</option>
<option value="SlideShow">SlideShow</option>
    </select>
    
    
</div>
<script type="text/javascript">
<!--// Init menu
actionsMenuInit('Máis Accións');
//-->
</script>
</form>
</li></ul>

</div>

<div id="page" lang="en" dir="ltr">
<div dir="ltr" id="content" lang="en"><span class="anchor" id="top"></span>
<span class="anchor" id="line-1"></span><p class="line867"><span class="anchor" id="faq2"></span> <span class="anchor" id="line-2"></span>
</p><h2 id="How_can_I_store_the_return_value_and.2For_output_of_a_command_in_a_variable.3F">How can I store the return value and/or output of a command in a variable?</h2>
<span class="anchor" id="line-3"></span><p class="line862">Well, that depends on whether you want to store the command's <em>output</em> (either stdout, or stdout + stderr) or its <em>exit status</em> (0 to 255, with 0 typically meaning "success"). <span class="anchor" id="line-4"></span><span class="anchor" id="line-5"></span></p><p class="line862">If you want to capture the output, you use <a href="http://mywiki.wooledge.org/CommandSubstitution">command substitution</a>: <span class="anchor" id="line-6"></span><span class="anchor" id="line-7"></span></p><p class="line867"><span class="anchor" id="line-8"></span><span class="anchor" id="line-9"></span><span class="anchor" id="line-10"></span><span class="anchor" id="line-1-1"></span></p><div class="highlight bash"><div class="codearea" dir="ltr" lang="en">
<script type="text/javascript">
function isnumbered(obj) {
  return obj.childNodes.length && obj.firstChild.childNodes.length && obj.firstChild.firstChild.className == 'LineNumber';
}
function nformat(num,chrs,add) {
  var nlen = Math.max(0,chrs-(''+num).length), res = '';
  while (nlen>0) { res += ' '; nlen-- }
  return res+num+add;
}
function addnumber(did, nstart, nstep) {
  var c = document.getElementById(did), l = c.firstChild, n = 1;
  if (!isnumbered(c)) {
    if (typeof nstart == 'undefined') nstart = 1;
    if (typeof nstep  == 'undefined') nstep = 1;
    var n = nstart;
    while (l != null) {
      if (l.tagName == 'SPAN') {
        var s = document.createElement('SPAN');
        var a = document.createElement('A');
        s.className = 'LineNumber';
        a.appendChild(document.createTextNode(nformat(n,4,'')));
        a.href = '#' + did + '_' + n;
        s.appendChild(a);
        s.appendChild(document.createTextNode(' '));
        n += nstep;
        if (l.childNodes.length) {
          l.insertBefore(s, l.firstChild);
        }
        else {
          l.appendChild(s);
        }
      }
      l = l.nextSibling;
    }
  }
  return false;
}
function remnumber(did) {
  var c = document.getElementById(did), l = c.firstChild;
  if (isnumbered(c)) {
    while (l != null) {
      if (l.tagName == 'SPAN' && l.firstChild.className == 'LineNumber') l.removeChild(l.firstChild);
      l = l.nextSibling;
    }
  }
  return false;
}
function togglenumber(did, nstart, nstep) {
  var c = document.getElementById(did);
  if (isnumbered(c)) {
    remnumber(did);
  } else {
    addnumber(did,nstart,nstep);
  }
  return false;
}
</script>

<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-32bf596ca8ebd63f84210dea4f104b3fed6f2c5a\', 1, 1);" \
                class="codenumbers">[des]activar nros. de liña<\/a>');
</script><a href="http://mywiki.wooledge.org/BashFAQ/002#" onclick="return togglenumber(&#39;CA-32bf596ca8ebd63f84210dea4f104b3fed6f2c5a&#39;, 1, 1);" class="codenumbers">[des]activar nros. de liña</a>
<pre dir="ltr" id="CA-32bf596ca8ebd63f84210dea4f104b3fed6f2c5a" lang="en"><span class="line"><span class="LineNumber"><a href="http://mywiki.wooledge.org/BashFAQ/002#CA-32bf596ca8ebd63f84210dea4f104b3fed6f2c5a_1">   1</a> </span><span class="LineAnchor" id="CA-32bf596ca8ebd63f84210dea4f104b3fed6f2c5a_1"></span><span class="anchor" id="line-1-2"></span><span class="ID">output</span>=<span class="ResWord">$(</span><span class="ResWord">command</span><span class="ResWord">)</span>      <span class="Comment"># stdout only; stderr remains uncaptured</span></span>
<span class="line"><span class="LineNumber"><a href="http://mywiki.wooledge.org/BashFAQ/002#CA-32bf596ca8ebd63f84210dea4f104b3fed6f2c5a_2">   2</a> </span><span class="LineAnchor" id="CA-32bf596ca8ebd63f84210dea4f104b3fed6f2c5a_2"></span><span class="anchor" id="line-2-1"></span><span class="Comment"></span><span class="ID">output</span>=<span class="ResWord">$(</span><span class="ResWord">command </span>2&gt;&amp;1<span class="ResWord">)</span> <span class="Comment"># both stdout and stderr will be captured</span></span>
<span class="line"><span class="LineNumber"><a href="http://mywiki.wooledge.org/BashFAQ/002#CA-32bf596ca8ebd63f84210dea4f104b3fed6f2c5a_3">   3</a> </span><span class="LineAnchor" id="CA-32bf596ca8ebd63f84210dea4f104b3fed6f2c5a_3"></span><span class="anchor" id="line-3-1"></span><span class="Comment"></span></span>
</pre></div></div><span class="anchor" id="line-11"></span><span class="anchor" id="line-12"></span><p class="line862">If you want the exit status, you use the special parameter <tt class="backtick">$?</tt> after running the command: <span class="anchor" id="line-13"></span><span class="anchor" id="line-14"></span></p><p class="line867"><span class="anchor" id="line-15"></span><span class="anchor" id="line-16"></span><span class="anchor" id="line-17"></span><span class="anchor" id="line-1-3"></span></p><div class="highlight bash"><div class="codearea" dir="ltr" lang="en">
<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-2bd289b36d4d0ec17df2044b942d62f9edfbe35e\', 1, 1);" \
                class="codenumbers">[des]activar nros. de liña<\/a>');
</script><a href="http://mywiki.wooledge.org/BashFAQ/002#" onclick="return togglenumber(&#39;CA-2bd289b36d4d0ec17df2044b942d62f9edfbe35e&#39;, 1, 1);" class="codenumbers">[des]activar nros. de liña</a>
<pre dir="ltr" id="CA-2bd289b36d4d0ec17df2044b942d62f9edfbe35e" lang="en"><span class="line"><span class="LineNumber"><a href="http://mywiki.wooledge.org/BashFAQ/002#CA-2bd289b36d4d0ec17df2044b942d62f9edfbe35e_1">   1</a> </span><span class="LineAnchor" id="CA-2bd289b36d4d0ec17df2044b942d62f9edfbe35e_1"></span><span class="anchor" id="line-1-4"></span><span class="ResWord">command</span></span>
<span class="line"><span class="LineNumber"><a href="http://mywiki.wooledge.org/BashFAQ/002#CA-2bd289b36d4d0ec17df2044b942d62f9edfbe35e_2">   2</a> </span><span class="LineAnchor" id="CA-2bd289b36d4d0ec17df2044b942d62f9edfbe35e_2"></span><span class="anchor" id="line-2-2"></span><span class="ResWord"></span><span class="ID">status</span>=<span class="ID">$?</span></span>
</pre></div></div><span class="anchor" id="line-18"></span><span class="anchor" id="line-19"></span><p class="line874">If you want both: <span class="anchor" id="line-20"></span><span class="anchor" id="line-21"></span></p><p class="line867"><span class="anchor" id="line-22"></span><span class="anchor" id="line-23"></span><span class="anchor" id="line-24"></span><span class="anchor" id="line-1-5"></span></p><div class="highlight bash"><div class="codearea" dir="ltr" lang="en">
<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-7681cc4c1d2f31b6b6a4574114520f9b569fb58f\', 1, 1);" \
                class="codenumbers">[des]activar nros. de liña<\/a>');
</script><a href="http://mywiki.wooledge.org/BashFAQ/002#" onclick="return togglenumber(&#39;CA-7681cc4c1d2f31b6b6a4574114520f9b569fb58f&#39;, 1, 1);" class="codenumbers">[des]activar nros. de liña</a>
<pre dir="ltr" id="CA-7681cc4c1d2f31b6b6a4574114520f9b569fb58f" lang="en"><span class="line"><span class="LineNumber"><a href="http://mywiki.wooledge.org/BashFAQ/002#CA-7681cc4c1d2f31b6b6a4574114520f9b569fb58f_1">   1</a> </span><span class="LineAnchor" id="CA-7681cc4c1d2f31b6b6a4574114520f9b569fb58f_1"></span><span class="anchor" id="line-1-6"></span><span class="ID">output</span>=<span class="ResWord">$(</span><span class="ResWord">command</span><span class="ResWord">)</span></span>
<span class="line"><span class="LineNumber"><a href="http://mywiki.wooledge.org/BashFAQ/002#CA-7681cc4c1d2f31b6b6a4574114520f9b569fb58f_2">   2</a> </span><span class="LineAnchor" id="CA-7681cc4c1d2f31b6b6a4574114520f9b569fb58f_2"></span><span class="anchor" id="line-2-3"></span><span class="ID">status</span>=<span class="ID">$?</span></span>
</pre></div></div><span class="anchor" id="line-25"></span><p class="line862">The assignment to <tt>output</tt> has no effect on <tt>command</tt>'s exit status, which is still in <tt>$?</tt>. <span class="anchor" id="line-26"></span><span class="anchor" id="line-27"></span></p><p class="line862">If you don't <em>actually</em> want to store the exit status, but simply want to take an action upon success or failure, just use <tt class="backtick">if</tt>: <span class="anchor" id="line-28"></span><span class="anchor" id="line-29"></span></p><p class="line867"><span class="anchor" id="line-30"></span><span class="anchor" id="line-31"></span><span class="anchor" id="line-32"></span><span class="anchor" id="line-33"></span><span class="anchor" id="line-34"></span><span class="anchor" id="line-35"></span><span class="anchor" id="line-1-7"></span></p><div class="highlight bash"><div class="codearea" dir="ltr" lang="en">
<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-96f3463bc3d3117294962bca7932bde6279074d0\', 1, 1);" \
                class="codenumbers">[des]activar nros. de liña<\/a>');
</script><a href="http://mywiki.wooledge.org/BashFAQ/002#" onclick="return togglenumber(&#39;CA-96f3463bc3d3117294962bca7932bde6279074d0&#39;, 1, 1);" class="codenumbers">[des]activar nros. de liña</a>
<pre dir="ltr" id="CA-96f3463bc3d3117294962bca7932bde6279074d0" lang="en"><span class="line"><span class="LineNumber"><a href="http://mywiki.wooledge.org/BashFAQ/002#CA-96f3463bc3d3117294962bca7932bde6279074d0_1">   1</a> </span><span class="LineAnchor" id="CA-96f3463bc3d3117294962bca7932bde6279074d0_1"></span><span class="anchor" id="line-1-8"></span><span class="ResWord">if </span><span class="ResWord">command</span>; <span class="ResWord">then</span></span>
<span class="line"><span class="LineNumber"><a href="http://mywiki.wooledge.org/BashFAQ/002#CA-96f3463bc3d3117294962bca7932bde6279074d0_2">   2</a> </span><span class="LineAnchor" id="CA-96f3463bc3d3117294962bca7932bde6279074d0_2"></span><span class="anchor" id="line-2-4"></span><span class="ResWord">    </span><span class="ResWord">printf</span> <span class="String">"it succeeded\n"</span></span>
<span class="line"><span class="LineNumber"><a href="http://mywiki.wooledge.org/BashFAQ/002#CA-96f3463bc3d3117294962bca7932bde6279074d0_3">   3</a> </span><span class="LineAnchor" id="CA-96f3463bc3d3117294962bca7932bde6279074d0_3"></span><span class="anchor" id="line-3-2"></span><span class="ResWord">else</span></span>
<span class="line"><span class="LineNumber"><a href="http://mywiki.wooledge.org/BashFAQ/002#CA-96f3463bc3d3117294962bca7932bde6279074d0_4">   4</a> </span><span class="LineAnchor" id="CA-96f3463bc3d3117294962bca7932bde6279074d0_4"></span><span class="anchor" id="line-4-1"></span><span class="ResWord">    </span><span class="ResWord">printf</span> <span class="String">"it failed\n"</span></span>
<span class="line"><span class="LineNumber"><a href="http://mywiki.wooledge.org/BashFAQ/002#CA-96f3463bc3d3117294962bca7932bde6279074d0_5">   5</a> </span><span class="LineAnchor" id="CA-96f3463bc3d3117294962bca7932bde6279074d0_5"></span><span class="anchor" id="line-5-1"></span><span class="ResWord">fi</span></span>
</pre></div></div><span class="anchor" id="line-36"></span><span class="anchor" id="line-37"></span><p class="line862">Or if you want to capture stdout as well as taking action on success/failure, without explicitly storing or checking <tt class="backtick">$?</tt>: <span class="anchor" id="line-38"></span><span class="anchor" id="line-39"></span></p><p class="line867"><span class="anchor" id="line-40"></span><span class="anchor" id="line-41"></span><span class="anchor" id="line-42"></span><span class="anchor" id="line-43"></span><span class="anchor" id="line-1-9"></span></p><div class="highlight bash"><div class="codearea" dir="ltr" lang="en">
<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-f978660675aeb12ea4acb78e4f0135418b0f6c70\', 1, 1);" \
                class="codenumbers">[des]activar nros. de liña<\/a>');
</script><a href="http://mywiki.wooledge.org/BashFAQ/002#" onclick="return togglenumber(&#39;CA-f978660675aeb12ea4acb78e4f0135418b0f6c70&#39;, 1, 1);" class="codenumbers">[des]activar nros. de liña</a>
<pre dir="ltr" id="CA-f978660675aeb12ea4acb78e4f0135418b0f6c70" lang="en"><span class="line"><span class="LineNumber"><a href="http://mywiki.wooledge.org/BashFAQ/002#CA-f978660675aeb12ea4acb78e4f0135418b0f6c70_1">   1</a> </span><span class="LineAnchor" id="CA-f978660675aeb12ea4acb78e4f0135418b0f6c70_1"></span><span class="anchor" id="line-1-10"></span><span class="ResWord">if </span><span class="ID">output</span>=<span class="ResWord">$(</span><span class="ResWord">command</span><span class="ResWord">)</span>; <span class="ResWord">then</span></span>
<span class="line"><span class="LineNumber"><a href="http://mywiki.wooledge.org/BashFAQ/002#CA-f978660675aeb12ea4acb78e4f0135418b0f6c70_2">   2</a> </span><span class="LineAnchor" id="CA-f978660675aeb12ea4acb78e4f0135418b0f6c70_2"></span><span class="anchor" id="line-2-5"></span><span class="ResWord">    </span><span class="ResWord">printf</span> <span class="String">"it succeeded\n"</span></span>
<span class="line"><span class="LineNumber"><a href="http://mywiki.wooledge.org/BashFAQ/002#CA-f978660675aeb12ea4acb78e4f0135418b0f6c70_3">   3</a> </span><span class="LineAnchor" id="CA-f978660675aeb12ea4acb78e4f0135418b0f6c70_3"></span><span class="anchor" id="line-3-3"></span>    ...</span>
</pre></div></div><span class="anchor" id="line-44"></span><span class="anchor" id="line-45"></span><p class="line862">What if you want the exit status of one command from a pipeline?  If you want the last command's status, no problem -- it's in <tt class="backtick">$?</tt> just like before.  If you want some other command's status, use the <tt>PIPESTATUS</tt> array (BASH only. In the case of Zsh, it's lower-cased <tt>pipestatus</tt>).  Say you want the exit status of <tt>grep</tt> in the following: <span class="anchor" id="line-46"></span><span class="anchor" id="line-47"></span></p><p class="line867"><span class="anchor" id="line-48"></span><span class="anchor" id="line-49"></span><span class="anchor" id="line-50"></span><span class="anchor" id="line-1-11"></span></p><div class="highlight bash"><div class="codearea" dir="ltr" lang="en">
<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-e393cffc750c5c33358dda8142d195856fed37b6\', 1, 1);" \
                class="codenumbers">[des]activar nros. de liña<\/a>');
</script><a href="http://mywiki.wooledge.org/BashFAQ/002#" onclick="return togglenumber(&#39;CA-e393cffc750c5c33358dda8142d195856fed37b6&#39;, 1, 1);" class="codenumbers">[des]activar nros. de liña</a>
<pre dir="ltr" id="CA-e393cffc750c5c33358dda8142d195856fed37b6" lang="en"><span class="line"><span class="LineNumber"><a href="http://mywiki.wooledge.org/BashFAQ/002#CA-e393cffc750c5c33358dda8142d195856fed37b6_1">   1</a> </span><span class="LineAnchor" id="CA-e393cffc750c5c33358dda8142d195856fed37b6_1"></span><span class="anchor" id="line-1-12"></span>grep foo somelogfile | head -5</span>
<span class="line"><span class="LineNumber"><a href="http://mywiki.wooledge.org/BashFAQ/002#CA-e393cffc750c5c33358dda8142d195856fed37b6_2">   2</a> </span><span class="LineAnchor" id="CA-e393cffc750c5c33358dda8142d195856fed37b6_2"></span><span class="anchor" id="line-2-6"></span><span class="ID">status</span>=<span class="ResWord">${</span><span class="ID">PIPESTATUS</span>[0]<span class="ResWord">}</span></span>
</pre></div></div><span class="anchor" id="line-51"></span><span class="anchor" id="line-52"></span><p class="line862">Bash 3.0 added a <tt class="backtick">pipefail</tt> option as well, which can be used if you simply want to take action upon failure of the <tt class="backtick">grep</tt>: <span class="anchor" id="line-53"></span><span class="anchor" id="line-54"></span></p><p class="line867"><span class="anchor" id="line-55"></span><span class="anchor" id="line-56"></span><span class="anchor" id="line-57"></span><span class="anchor" id="line-58"></span><span class="anchor" id="line-59"></span><span class="anchor" id="line-1-13"></span></p><div class="highlight bash"><div class="codearea" dir="ltr" lang="en">
<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-d6d1493de47ff848bf1071a98735f19193d607c5\', 1, 1);" \
                class="codenumbers">[des]activar nros. de liña<\/a>');
</script><a href="http://mywiki.wooledge.org/BashFAQ/002#" onclick="return togglenumber(&#39;CA-d6d1493de47ff848bf1071a98735f19193d607c5&#39;, 1, 1);" class="codenumbers">[des]activar nros. de liña</a>
<pre dir="ltr" id="CA-d6d1493de47ff848bf1071a98735f19193d607c5" lang="en"><span class="line"><span class="LineNumber"><a href="http://mywiki.wooledge.org/BashFAQ/002#CA-d6d1493de47ff848bf1071a98735f19193d607c5_1">   1</a> </span><span class="LineAnchor" id="CA-d6d1493de47ff848bf1071a98735f19193d607c5_1"></span><span class="anchor" id="line-1-14"></span><span class="ResWord">set</span> -o pipefail</span>
<span class="line"><span class="LineNumber"><a href="http://mywiki.wooledge.org/BashFAQ/002#CA-d6d1493de47ff848bf1071a98735f19193d607c5_2">   2</a> </span><span class="LineAnchor" id="CA-d6d1493de47ff848bf1071a98735f19193d607c5_2"></span><span class="anchor" id="line-2-7"></span><span class="ResWord">if</span> ! grep foo somelogfile | head -5; <span class="ResWord">then</span></span>
<span class="line"><span class="LineNumber"><a href="http://mywiki.wooledge.org/BashFAQ/002#CA-d6d1493de47ff848bf1071a98735f19193d607c5_3">   3</a> </span><span class="LineAnchor" id="CA-d6d1493de47ff848bf1071a98735f19193d607c5_3"></span><span class="anchor" id="line-3-4"></span><span class="ResWord">    </span><span class="ResWord">printf</span> <span class="String">"uh oh\n"</span></span>
<span class="line"><span class="LineNumber"><a href="http://mywiki.wooledge.org/BashFAQ/002#CA-d6d1493de47ff848bf1071a98735f19193d607c5_4">   4</a> </span><span class="LineAnchor" id="CA-d6d1493de47ff848bf1071a98735f19193d607c5_4"></span><span class="anchor" id="line-4-2"></span><span class="ResWord">fi</span></span>
</pre></div></div><span class="anchor" id="line-60"></span><span class="anchor" id="line-61"></span><p class="line862">Now, some trickier stuff.  Let's say you want <em>only</em> the stderr, but not stdout.  Well, then first you have to decide where you <em>do</em> want stdout to go: <span class="anchor" id="line-62"></span><span class="anchor" id="line-63"></span></p><p class="line867"><span class="anchor" id="line-64"></span><span class="anchor" id="line-65"></span><span class="anchor" id="line-66"></span><span class="anchor" id="line-67"></span><span class="anchor" id="line-1-15"></span></p><div class="highlight bash"><div class="codearea" dir="ltr" lang="en">
<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-53d8dd8e65c0e013fb87e57375d32b859bc07661\', 1, 1);" \
                class="codenumbers">[des]activar nros. de liña<\/a>');
</script><a href="http://mywiki.wooledge.org/BashFAQ/002#" onclick="return togglenumber(&#39;CA-53d8dd8e65c0e013fb87e57375d32b859bc07661&#39;, 1, 1);" class="codenumbers">[des]activar nros. de liña</a>
<pre dir="ltr" id="CA-53d8dd8e65c0e013fb87e57375d32b859bc07661" lang="en"><span class="line"><span class="LineNumber"><a href="http://mywiki.wooledge.org/BashFAQ/002#CA-53d8dd8e65c0e013fb87e57375d32b859bc07661_1">   1</a> </span><span class="LineAnchor" id="CA-53d8dd8e65c0e013fb87e57375d32b859bc07661_1"></span><span class="anchor" id="line-1-16"></span><span class="ID">output</span>=<span class="ResWord">$(</span><span class="ResWord">command </span>2&gt;&amp;1 &gt;/dev/null<span class="ResWord">)</span>  <span class="Comment"># Save stderr, discard stdout.</span></span>
<span class="line"><span class="LineNumber"><a href="http://mywiki.wooledge.org/BashFAQ/002#CA-53d8dd8e65c0e013fb87e57375d32b859bc07661_2">   2</a> </span><span class="LineAnchor" id="CA-53d8dd8e65c0e013fb87e57375d32b859bc07661_2"></span><span class="anchor" id="line-2-8"></span><span class="Comment"></span><span class="ID">output</span>=<span class="ResWord">$(</span><span class="ResWord">command </span>2&gt;&amp;1 &gt;/dev/tty<span class="ResWord">)</span>   <span class="Comment"># Save stderr, send stdout to the terminal.</span></span>
<span class="line"><span class="LineNumber"><a href="http://mywiki.wooledge.org/BashFAQ/002#CA-53d8dd8e65c0e013fb87e57375d32b859bc07661_3">   3</a> </span><span class="LineAnchor" id="CA-53d8dd8e65c0e013fb87e57375d32b859bc07661_3"></span><span class="anchor" id="line-3-5"></span><span class="Comment"></span><span class="ID">output</span>=<span class="ResWord">$(</span><span class="ResWord">command </span>3&gt;&amp;2 2&gt;&amp;1 1&gt;&amp;3-<span class="ResWord">)</span>  <span class="Comment"># Save stderr, send stdout to script's stderr.</span></span>
<span class="line"><span class="LineNumber"><a href="http://mywiki.wooledge.org/BashFAQ/002#CA-53d8dd8e65c0e013fb87e57375d32b859bc07661_4">   4</a> </span><span class="LineAnchor" id="CA-53d8dd8e65c0e013fb87e57375d32b859bc07661_4"></span><span class="anchor" id="line-4-3"></span><span class="Comment"></span></span>
</pre></div></div><span class="anchor" id="line-68"></span><span class="anchor" id="line-69"></span><p class="line862">Since the last example may seem a bit confusing, here is the explanation. First, keep in mind that <tt class="backtick">1&gt;&amp;3-</tt> is equivalent to <tt class="backtick">1&gt;&amp;3&nbsp;3&gt;&amp;-</tt>. So it will be easier to analyse the following sequence: <tt class="backtick">$(...&nbsp;3&gt;&amp;2&nbsp;2&gt;&amp;1&nbsp;1&gt;&amp;3&nbsp;3&gt;&amp;-)</tt> <span class="anchor" id="line-70"></span><span class="anchor" id="line-71"></span></p><div><table><tbody><tr>  <td><p class="line862"> Redirection </p></td>
  <td><p class="line862"> fd 0 (stdin) </p></td>
  <td><p class="line862"> fd 1 (stdout) </p></td>
  <td><p class="line862"> fd 2 (stderr) </p></td>
  <td><p class="line862"> fd 3     </p></td>
  <td><p class="line862"> Description </p></td>
</tr>
<tr>  <td><span class="anchor" id="line-72"></span><p class="line862"> initial     </p></td>
  <td><p class="line862"> /dev/tty     </p></td>
  <td><p class="line862"> /dev/tty      </p></td>
  <td><p class="line862"> /dev/tty      </p></td>
  <td><p class="line862">          </p></td>
  <td><p class="line862"> Let's assume this is run in a terminal, so stdin, stdout and stderr are all initially connected to the terminal (tty). </p></td>
</tr>
<tr>  <td><span class="anchor" id="line-73"></span><p class="line862"> <tt class="backtick">$(...)</tt>    </p></td>
  <td><p class="line862"> /dev/tty     </p></td>
  <td><p class="line862"> <strong>pipe</strong>    </p></td>
  <td><p class="line862"> /dev/tty      </p></td>
  <td><p class="line862">          </p></td>
  <td><p class="line862"> First, the command substitution is set up. Command's stdout (<a href="http://mywiki.wooledge.org/FileDescriptor">FileDescriptor</a> 1) gets captured (by using a pipe internally). Command's stderr (FD 2) still points to its regular place (the script's stderr). </p></td>
</tr>
<tr>  <td><span class="anchor" id="line-74"></span><p class="line862"> <tt class="backtick">3&gt;&amp;2</tt>      </p></td>
  <td><p class="line862"> /dev/tty     </p></td>
  <td><p class="line862"> pipe          </p></td>
  <td><p class="line862"> /dev/tty      </p></td>
  <td><p class="line862"> <strong>/dev/tty</strong></p></td>
  <td><p class="line862"> Next, FD 3 should point to what FD 2 points to at this very moment, meaning FD 3 will point to the script's stderr ("save stderr in FD 3"). </p></td>
</tr>
<tr>  <td><span class="anchor" id="line-75"></span><p class="line862"> <tt class="backtick">2&gt;&amp;1</tt>      </p></td>
  <td><p class="line862"> /dev/tty     </p></td>
  <td><p class="line862"> pipe          </p></td>
  <td><p class="line862"> <strong>pipe</strong>    </p></td>
  <td><p class="line862"> /dev/tty </p></td>
  <td><p class="line862"> Next, FD 2 should point to what FD 1 currently points to, meaning FD 2 will point to stdout. Right now, both FD 2 and FD 1 would be captured. </p></td>
</tr>
<tr>  <td><span class="anchor" id="line-76"></span><p class="line862"> <tt class="backtick">1&gt;&amp;3</tt>      </p></td>
  <td><p class="line862"> /dev/tty     </p></td>
  <td><p class="line862"> <strong>/dev/tty</strong></p></td>
  <td><p class="line862"> pipe          </p></td>
  <td><p class="line862"> /dev/tty </p></td>
  <td><p class="line862"> Next, FD 1 should point to what FD 3 currently points to, meaning FD 1 will point to the script's stderr. FD 1 is no longer captured. We have "swapped" FD 1 and FD 2. </p></td>
</tr>
<tr>  <td><span class="anchor" id="line-77"></span><p class="line862"> <tt class="backtick">3&gt;&amp;-</tt>      </p></td>
  <td><p class="line862"> /dev/tty     </p></td>
  <td><p class="line862"> /dev/tty      </p></td>
  <td><p class="line862"> pipe          </p></td>
  <td><p class="line862">          </p></td>
  <td><p class="line862"> Finally, we close FD 3 as it is no longer necessary. </p></td>
</tr>
</tbody></table></div><span class="anchor" id="line-78"></span><span class="anchor" id="line-79"></span><p class="line862">A little note: operation n&gt;&amp;m- is sometimes called moving FD m to FD n. <span class="anchor" id="line-80"></span><span class="anchor" id="line-81"></span></p><p class="line874">This way what the script writes to FD 2 (normally stderr) will be written to stdout because of the second redirection. What the script writes to FD 1 (normally stdout) will be written to stderr because of the first and third redirections. Stdout and stderr got replaced. Done.   <span class="anchor" id="line-82"></span><span class="anchor" id="line-83"></span></p><p class="line874">It's possible, although considerably harder, to let stdout "fall through" to wherever it would've gone if there hadn't been any redirection.  This involves "saving" the current value of stdout, so that it can be used inside the command substitution: <span class="anchor" id="line-84"></span><span class="anchor" id="line-85"></span></p><p class="line867"><span class="anchor" id="line-86"></span><span class="anchor" id="line-87"></span><span class="anchor" id="line-88"></span><span class="anchor" id="line-89"></span><span class="anchor" id="line-90"></span><span class="anchor" id="line-91"></span><span class="anchor" id="line-92"></span><span class="anchor" id="line-1-17"></span></p><div class="highlight bash"><div class="codearea" dir="ltr" lang="en">
<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-3bb73efd1ad54593dbc2fe8a5cc87bd1e90329b0\', 1, 1);" \
                class="codenumbers">[des]activar nros. de liña<\/a>');
</script><a href="http://mywiki.wooledge.org/BashFAQ/002#" onclick="return togglenumber(&#39;CA-3bb73efd1ad54593dbc2fe8a5cc87bd1e90329b0&#39;, 1, 1);" class="codenumbers">[des]activar nros. de liña</a>
<pre dir="ltr" id="CA-3bb73efd1ad54593dbc2fe8a5cc87bd1e90329b0" lang="en"><span class="line"><span class="LineNumber"><a href="http://mywiki.wooledge.org/BashFAQ/002#CA-3bb73efd1ad54593dbc2fe8a5cc87bd1e90329b0_1">   1</a> </span><span class="LineAnchor" id="CA-3bb73efd1ad54593dbc2fe8a5cc87bd1e90329b0_1"></span><span class="anchor" id="line-1-18"></span><span class="ResWord">exec </span>3&gt;&amp;1                    <span class="Comment"># Save the place that stdout (1) points to.</span></span>
<span class="line"><span class="LineNumber"><a href="http://mywiki.wooledge.org/BashFAQ/002#CA-3bb73efd1ad54593dbc2fe8a5cc87bd1e90329b0_2">   2</a> </span><span class="LineAnchor" id="CA-3bb73efd1ad54593dbc2fe8a5cc87bd1e90329b0_2"></span><span class="anchor" id="line-2-9"></span><span class="Comment"></span><span class="ID">output</span>=<span class="ResWord">$(</span><span class="ResWord">command </span>2&gt;&amp;1 1&gt;&amp;3<span class="ResWord">)</span>  <span class="Comment"># Run command.  stderr is captured.</span></span>
<span class="line"><span class="LineNumber"><a href="http://mywiki.wooledge.org/BashFAQ/002#CA-3bb73efd1ad54593dbc2fe8a5cc87bd1e90329b0_3">   3</a> </span><span class="LineAnchor" id="CA-3bb73efd1ad54593dbc2fe8a5cc87bd1e90329b0_3"></span><span class="anchor" id="line-3-6"></span><span class="Comment"></span><span class="ResWord">exec </span>3&gt;&amp;-                    <span class="Comment"># Close FD #3.</span></span>
<span class="line"><span class="LineNumber"><a href="http://mywiki.wooledge.org/BashFAQ/002#CA-3bb73efd1ad54593dbc2fe8a5cc87bd1e90329b0_4">   4</a> </span><span class="LineAnchor" id="CA-3bb73efd1ad54593dbc2fe8a5cc87bd1e90329b0_4"></span><span class="anchor" id="line-4-4"></span><span class="Comment"></span></span>
<span class="line"><span class="LineNumber"><a href="http://mywiki.wooledge.org/BashFAQ/002#CA-3bb73efd1ad54593dbc2fe8a5cc87bd1e90329b0_5">   5</a> </span><span class="LineAnchor" id="CA-3bb73efd1ad54593dbc2fe8a5cc87bd1e90329b0_5"></span><span class="anchor" id="line-5-2"></span><span class="Comment"># Or this alternative, which captures stderr, letting stdout through:</span></span>
<span class="line"><span class="LineNumber"><a href="http://mywiki.wooledge.org/BashFAQ/002#CA-3bb73efd1ad54593dbc2fe8a5cc87bd1e90329b0_6">   6</a> </span><span class="LineAnchor" id="CA-3bb73efd1ad54593dbc2fe8a5cc87bd1e90329b0_6"></span><span class="anchor" id="line-6-1"></span><span class="Comment"></span>{ <span class="ID">output</span>=<span class="ResWord">$(</span><span class="ResWord">command </span>2&gt;&amp;1 1&gt;&amp;3-<span class="ResWord">)</span> ;} 3&gt;&amp;1</span>
</pre></div></div><span class="anchor" id="line-93"></span><span class="anchor" id="line-94"></span><p class="line862">In the last example above, note that <tt>1&gt;&amp;3-</tt> duplicates FD 3 and stores a copy in FD 1, and then closes FD 3.  It could also be written <tt class="backtick">1&gt;&amp;3&nbsp;3&gt;&amp;-</tt>. <span class="anchor" id="line-95"></span><span class="anchor" id="line-96"></span></p><p class="line862">What you <em>cannot</em> do is capture stdout in one variable, and stderr in another, using only FD redirections.  You must use a temporary file (or a named pipe) to achieve that one. <span class="anchor" id="line-97"></span><span class="anchor" id="line-98"></span></p><p class="line874">Well, you can use a horrible hack like: <span class="anchor" id="line-99"></span><span class="anchor" id="line-100"></span><span class="anchor" id="line-101"></span><span class="anchor" id="line-102"></span><span class="anchor" id="line-103"></span><span class="anchor" id="line-104"></span><span class="anchor" id="line-105"></span><span class="anchor" id="line-106"></span><span class="anchor" id="line-107"></span><span class="anchor" id="line-1-19"></span></p><div class="highlight bash"><div class="codearea" dir="ltr" lang="en">
<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-762eab1d07833eced2e6fb74163c59522df4ca60\', 1, 1);" \
                class="codenumbers">[des]activar nros. de liña<\/a>');
</script><a href="http://mywiki.wooledge.org/BashFAQ/002#" onclick="return togglenumber(&#39;CA-762eab1d07833eced2e6fb74163c59522df4ca60&#39;, 1, 1);" class="codenumbers">[des]activar nros. de liña</a>
<pre dir="ltr" id="CA-762eab1d07833eced2e6fb74163c59522df4ca60" lang="en"><span class="line"><span class="LineNumber"><a href="http://mywiki.wooledge.org/BashFAQ/002#CA-762eab1d07833eced2e6fb74163c59522df4ca60_1">   1</a> </span><span class="LineAnchor" id="CA-762eab1d07833eced2e6fb74163c59522df4ca60_1"></span><span class="anchor" id="line-1-20"></span><span class="ID">result</span>=<span class="ResWord">$(</span></span>
<span class="line"><span class="LineNumber"><a href="http://mywiki.wooledge.org/BashFAQ/002#CA-762eab1d07833eced2e6fb74163c59522df4ca60_2">   2</a> </span><span class="LineAnchor" id="CA-762eab1d07833eced2e6fb74163c59522df4ca60_2"></span><span class="anchor" id="line-2-10"></span>    { <span class="ID">stdout</span>=<span class="ResWord">$(</span>cmd<span class="ResWord">)</span> ; } 2&gt;&amp;1</span>
<span class="line"><span class="LineNumber"><a href="http://mywiki.wooledge.org/BashFAQ/002#CA-762eab1d07833eced2e6fb74163c59522df4ca60_3">   3</a> </span><span class="LineAnchor" id="CA-762eab1d07833eced2e6fb74163c59522df4ca60_3"></span><span class="anchor" id="line-3-7"></span>    <span class="ResWord">printf</span> <span class="String">"this line is the separator\n"</span></span>
<span class="line"><span class="LineNumber"><a href="http://mywiki.wooledge.org/BashFAQ/002#CA-762eab1d07833eced2e6fb74163c59522df4ca60_4">   4</a> </span><span class="LineAnchor" id="CA-762eab1d07833eced2e6fb74163c59522df4ca60_4"></span><span class="anchor" id="line-4-5"></span>    <span class="ResWord">printf</span> <span class="String">"%s\n"</span> <span class="String">"$stdout"</span></span>
<span class="line"><span class="LineNumber"><a href="http://mywiki.wooledge.org/BashFAQ/002#CA-762eab1d07833eced2e6fb74163c59522df4ca60_5">   5</a> </span><span class="LineAnchor" id="CA-762eab1d07833eced2e6fb74163c59522df4ca60_5"></span><span class="anchor" id="line-5-3"></span><span class="ResWord">)</span></span>
<span class="line"><span class="LineNumber"><a href="http://mywiki.wooledge.org/BashFAQ/002#CA-762eab1d07833eced2e6fb74163c59522df4ca60_6">   6</a> </span><span class="LineAnchor" id="CA-762eab1d07833eced2e6fb74163c59522df4ca60_6"></span><span class="anchor" id="line-6-2"></span><span class="ID">var_out</span>=<span class="ResWord">${</span><span class="ID">result</span>#*this line is the separator<span class="String">$'\n'</span><span class="ResWord">}</span></span>
<span class="line"><span class="LineNumber"><a href="http://mywiki.wooledge.org/BashFAQ/002#CA-762eab1d07833eced2e6fb74163c59522df4ca60_7">   7</a> </span><span class="LineAnchor" id="CA-762eab1d07833eced2e6fb74163c59522df4ca60_7"></span><span class="anchor" id="line-7-1"></span><span class="ID">var_err</span>=<span class="ResWord">${</span><span class="ID">result</span>%<span class="String">$'\n'</span><span class="ID">this</span> line is the separator*<span class="ResWord">}</span></span>
</pre></div></div><span class="anchor" id="line-108"></span><p class="line874">Obviously, this is not robust, because either the standard output or the standard error of the command could contain whatever separator string you employ. <span class="anchor" id="line-109"></span><span class="anchor" id="line-110"></span></p><p class="line874">And if you want the exit code of your cmd (here a modification in the case of if the cmd stdout nothing) <span class="anchor" id="line-111"></span><span class="anchor" id="line-112"></span><span class="anchor" id="line-113"></span><span class="anchor" id="line-114"></span><span class="anchor" id="line-115"></span><span class="anchor" id="line-116"></span><span class="anchor" id="line-117"></span><span class="anchor" id="line-118"></span><span class="anchor" id="line-119"></span><span class="anchor" id="line-120"></span><span class="anchor" id="line-121"></span><span class="anchor" id="line-122"></span><span class="anchor" id="line-123"></span><span class="anchor" id="line-124"></span><span class="anchor" id="line-1-21"></span></p><div class="highlight bash"><div class="codearea" dir="ltr" lang="en">
<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-a6179e6399fa2e47532c7bf89a5d8e6462f7aa61\', 1, 1);" \
                class="codenumbers">[des]activar nros. de liña<\/a>');
</script><a href="http://mywiki.wooledge.org/BashFAQ/002#" onclick="return togglenumber(&#39;CA-a6179e6399fa2e47532c7bf89a5d8e6462f7aa61&#39;, 1, 1);" class="codenumbers">[des]activar nros. de liña</a>
<pre dir="ltr" id="CA-a6179e6399fa2e47532c7bf89a5d8e6462f7aa61" lang="en"><span class="line"><span class="LineNumber"><a href="http://mywiki.wooledge.org/BashFAQ/002#CA-a6179e6399fa2e47532c7bf89a5d8e6462f7aa61_1">   1</a> </span><span class="LineAnchor" id="CA-a6179e6399fa2e47532c7bf89a5d8e6462f7aa61_1"></span><span class="anchor" id="line-1-22"></span>cmd() { curl -s -v http://www.google.fr; }</span>
<span class="line"><span class="LineNumber"><a href="http://mywiki.wooledge.org/BashFAQ/002#CA-a6179e6399fa2e47532c7bf89a5d8e6462f7aa61_2">   2</a> </span><span class="LineAnchor" id="CA-a6179e6399fa2e47532c7bf89a5d8e6462f7aa61_2"></span><span class="anchor" id="line-2-11"></span></span>
<span class="line"><span class="LineNumber"><a href="http://mywiki.wooledge.org/BashFAQ/002#CA-a6179e6399fa2e47532c7bf89a5d8e6462f7aa61_3">   3</a> </span><span class="LineAnchor" id="CA-a6179e6399fa2e47532c7bf89a5d8e6462f7aa61_3"></span><span class="anchor" id="line-3-8"></span><span class="ID">result</span>=<span class="ResWord">$(</span></span>
<span class="line"><span class="LineNumber"><a href="http://mywiki.wooledge.org/BashFAQ/002#CA-a6179e6399fa2e47532c7bf89a5d8e6462f7aa61_4">   4</a> </span><span class="LineAnchor" id="CA-a6179e6399fa2e47532c7bf89a5d8e6462f7aa61_4"></span><span class="anchor" id="line-4-6"></span>    { <span class="ID">stdout</span>=<span class="ResWord">$(</span>cmd<span class="ResWord">)</span>; <span class="ID">returncode</span>=<span class="ID">$?</span>; } 2&gt;&amp;1</span>
<span class="line"><span class="LineNumber"><a href="http://mywiki.wooledge.org/BashFAQ/002#CA-a6179e6399fa2e47532c7bf89a5d8e6462f7aa61_5">   5</a> </span><span class="LineAnchor" id="CA-a6179e6399fa2e47532c7bf89a5d8e6462f7aa61_5"></span><span class="anchor" id="line-5-4"></span>    <span class="ResWord">printf</span> <span class="String">"this is the separator"</span></span>
<span class="line"><span class="LineNumber"><a href="http://mywiki.wooledge.org/BashFAQ/002#CA-a6179e6399fa2e47532c7bf89a5d8e6462f7aa61_6">   6</a> </span><span class="LineAnchor" id="CA-a6179e6399fa2e47532c7bf89a5d8e6462f7aa61_6"></span><span class="anchor" id="line-6-3"></span>    <span class="ResWord">printf</span> <span class="String">"%s\n"</span> <span class="String">"$stdout"</span></span>
<span class="line"><span class="LineNumber"><a href="http://mywiki.wooledge.org/BashFAQ/002#CA-a6179e6399fa2e47532c7bf89a5d8e6462f7aa61_7">   7</a> </span><span class="LineAnchor" id="CA-a6179e6399fa2e47532c7bf89a5d8e6462f7aa61_7"></span><span class="anchor" id="line-7-2"></span>    <span class="ResWord">exit</span> <span class="String">"$returncode"</span></span>
<span class="line"><span class="LineNumber"><a href="http://mywiki.wooledge.org/BashFAQ/002#CA-a6179e6399fa2e47532c7bf89a5d8e6462f7aa61_8">   8</a> </span><span class="LineAnchor" id="CA-a6179e6399fa2e47532c7bf89a5d8e6462f7aa61_8"></span><span class="anchor" id="line-8-1"></span><span class="ResWord">)</span></span>
<span class="line"><span class="LineNumber"><a href="http://mywiki.wooledge.org/BashFAQ/002#CA-a6179e6399fa2e47532c7bf89a5d8e6462f7aa61_9">   9</a> </span><span class="LineAnchor" id="CA-a6179e6399fa2e47532c7bf89a5d8e6462f7aa61_9"></span><span class="anchor" id="line-9-1"></span><span class="ID">returncode</span>=<span class="ID">$?</span></span>
<span class="line"><span class="LineNumber"><a href="http://mywiki.wooledge.org/BashFAQ/002#CA-a6179e6399fa2e47532c7bf89a5d8e6462f7aa61_10">  10</a> </span><span class="LineAnchor" id="CA-a6179e6399fa2e47532c7bf89a5d8e6462f7aa61_10"></span><span class="anchor" id="line-10-1"></span></span>
<span class="line"><span class="LineNumber"><a href="http://mywiki.wooledge.org/BashFAQ/002#CA-a6179e6399fa2e47532c7bf89a5d8e6462f7aa61_11">  11</a> </span><span class="LineAnchor" id="CA-a6179e6399fa2e47532c7bf89a5d8e6462f7aa61_11"></span><span class="anchor" id="line-11-1"></span><span class="ID">var_out</span>=<span class="ResWord">${</span><span class="ID">result</span>#*this is the separator<span class="ResWord">}</span></span>
<span class="line"><span class="LineNumber"><a href="http://mywiki.wooledge.org/BashFAQ/002#CA-a6179e6399fa2e47532c7bf89a5d8e6462f7aa61_12">  12</a> </span><span class="LineAnchor" id="CA-a6179e6399fa2e47532c7bf89a5d8e6462f7aa61_12"></span><span class="anchor" id="line-12-1"></span><span class="ID">var_err</span>=<span class="ResWord">${</span><span class="ID">result</span>%this is the separator*<span class="ResWord">}</span></span>
</pre></div></div><span class="anchor" id="line-125"></span><span class="anchor" id="line-126"></span><p class="line867"><em>Note: the original question read, "How can I store the return value of a command in a variable?"  This was, verbatim, an actual question asked in #bash, ambiguity and all.</em> <span class="anchor" id="line-127"></span><span class="anchor" id="line-128"></span></p><p class="line867"></p><hr><p class="line874"> <span class="anchor" id="line-129"></span><a href="http://mywiki.wooledge.org/CategoryShell">CategoryShell</a> <span class="anchor" id="line-130"></span><span class="anchor" id="bottom"></span></p></div><p id="pageinfo" class="info" lang="gl" dir="ltr">BashFAQ/002  (última edición 2015-09-07 10:08:20 efectuada por <span title="??? @ 161.202.87.27-static.reverse.softlayer.com[161.202.87.27]">161</span>)</p>

<div id="pagebottom"></div>
</div>


<div id="footer">
<ul class="editbar"><li><a href="http://mywiki.wooledge.org/BashFAQ/002?action=edit&amp;editor=text" name="texteditlink" rel="nofollow">Edición (Texto)</a></li><li><a href="http://mywiki.wooledge.org/BashFAQ/002?action=edit&amp;editor=gui">Edición (GUI)</a></li><li class="toggleCommentsButton" style="display:none;"><a href="http://mywiki.wooledge.org/BashFAQ/002#" class="nbcomment" onclick="toggleComments();return false;">Comments</a></li><li><a class="nbinfo" href="http://mywiki.wooledge.org/BashFAQ/002?action=info" rel="nofollow">Información</a></li><li><a class="nbattachments" href="http://mywiki.wooledge.org/BashFAQ/002?action=AttachFile" rel="nofollow">Anexos</a></li><li>
<form class="actionsmenu" method="GET" action="http://mywiki.wooledge.org/BashFAQ/002">
<div>
    
    <select name="action" onchange="if ((this.selectedIndex != 0) &amp;&amp;
                      (this.options[this.selectedIndex].disabled == false)) {
                this.form.submit();
            }
            this.selectedIndex = 0;">
        <option value="show">Máis Accións</option><option value="raw">Texto sen formato</option>
<option value="print">Vista de impresión</option>
<option value="RenderAsDocbook">Mostrar en Docbook</option>
<option value="refresh">Eliminar caché</option>
<option value="show" disabled="" class="disabled">------------------------</option>
<option value="SpellCheck">Correxir a ortografía</option>
<option value="LikePages">Páxinas semellantes</option>
<option value="LocalSiteMap">Mapa do sitio</option>
<option value="show" disabled="" class="disabled">------------------------</option>
<option value="RenamePage" disabled="" class="disabled">Renomear páxina</option>
<option value="DeletePage" disabled="" class="disabled">Eliminar páxina</option>
<option value="show" disabled="" class="disabled">------------------------</option>
<option value="show" disabled="" class="disabled">Subscribir Usuario</option>
<option value="show" disabled="" class="disabled">------------------------</option>
<option value="show" disabled="" class="disabled">Eliminar Spam</option>
<option value="show" disabled="" class="disabled">Revert to this revision</option>
<option value="PackagePages">Empaquetar Páxinas</option>
<option value="SyncPages">Sync Pages</option>
<option value="show" disabled="" class="disabled">------------------------</option>
<option value="Load">Load</option>
<option value="Save">Gardar</option>
<option value="SlideShow">SlideShow</option>
    </select>
    
    
</div>
<script type="text/javascript">
<!--// Init menu
actionsMenuInit('Máis Accións');
//-->
</script>
</form>
</li></ul>

<ul id="credits">
<li><a href="http://moinmo.in/" title="This site uses the MoinMoin Wiki software.">MoinMoin Powered</a></li><li><a href="http://moinmo.in/Python" title="MoinMoin is written in Python.">Python Powered</a></li><li><a href="http://moinmo.in/GPL" title="MoinMoin is GPL licensed.">GPL licensed</a></li><li><a href="http://validator.w3.org/check?uri=referer" title="Click here to validate this page.">Valid HTML 4.01</a></li>
</ul>


</div>



</body></html>